// English QWERTY and Shavian Imperial keyboard layouts (merged)
// _Copyright (c) 2024 Neil Raiden (AGPL v.3)_
//
// Shaw Imperial is named after the Shavian Imperial Good Companion Model 6 typewriter,
// produced in 1962 by **Imperial** in Leicester, England.
//
// Notes:
//  - the symbols missing in the original Model 6 typewriter layout are added to the digits row in shifted state
//  - symbols for ESH and OIL moved to different locations than original for easier access
//  - writing in English (lowercase/smallcaps) can be achieved by activating CapsLock feature (pressing both Shift keys)
//  - to deactivate CapsLock functionality press any of two Shift keys
//  - English (uppercase/largecaps) can be typed with Alt keys
//  - CapsLock key performs action of Escape key
//  - Escape key performs action for Left-Alt
//
// # Shavian Imperial keyboard layout
// ## Unshifted:
// ```
// ┌───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬──────┐
// │ ⸰ │ · │ 𐑬 │ 𐑻 │ 𐑫 │ 𐑺 │ 𐑜 │ 𐑖 │ 𐑗 │ 𐑙 │ 𐑘 │ 𐑡 │ 𐑔 │ bksp │
// ├───┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬────┤
// │ tab │ 𐑭 │ 𐑷 │ 𐑵 │ 𐑱 │ 𐑳 │ 𐑓 │ 𐑞 │ 𐑤 │ 𐑥 │ 𐑒 │ 𐑢 │ 𐑣 │ 𐑠  │
// ├─────┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴────┤
// │  Esc  │ 𐑪 │ 𐑨 │ 𐑦 │ 𐑩 │ 𐑧 │ 𐑐 │ 𐑯 │ 𐑑 │ 𐑮 │ 𐑕 │ 𐑛 │  Ent │
// ├───────┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴──────┤
// │  shift  │ 𐑾 │ 𐑲 │ 𐑴 │ 𐑰 │ 𐑚 │ 𐑝 │ 𐑟 │ , │ . │ / │  shift │
// ├──────┬──┴──┬┴───┴─┬─┴───┴───┴───┴───┴───┴─┬─┴───┴┬───────┤
// │ ctrl │ win │ Ralt │         space         │ Ralt │  ctrl │
// └──────┴─────┴──────┴───────────────────────┴──────┴───────┘
// ```
// ## Shifted: 
// ```
// ┌───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬──────┐
// │ ◦ │ • │ 𐑶 │ 𐑸 │ 𐑿 │ 𐑹 │ 𐑼 │ 𐑽 │ * │ - │ ( │ ) │ = │ bksp │
// ├───┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬────┤
// │ tab │ q │ w │ e │ r │ t │ y │ u │ i │ o │ p │ ! │ & │ ~  │
// ├─────┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴────┤
// │  Esc  │ a │ s │ d │ f │ g │ h │ j │ k │ l │ ' │ " │  Ent │
// ├───────┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴──────┤
// │  shift  │ z │ x │ c │ v │ b │ n │ m │ ; │ : │ ? │  shift │
// ├──────┬──┴──┬┴───┴─┬─┴───┴───┴───┴───┴───┴─┬─┴───┴┬───────┤
// │ ctrl │ win │ Ralt │         space         │ Ralt │  ctrl │
// └──────┴─────┴──────┴───────────────────────┴──────┴───────┘
// ```
// ## AltGr (Right-Alt):
// ```
// ┌───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬──────┐
// │ 0 │ 1 │ 2 │ 3 │ 4 │ 5 │ 6 │ 7 │ 8 │ 9 │ [ │ ] │ _ │ bksp │
// ├───┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬────┤
// │ tab │ Q │ W │ E │ R │ T │ Y │ U │ I │ O │ P │ { │ } │ |  │
// ├─────┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴────┤
// │  Esc  │ A │ S │ D │ F │ G │ H │ J │ K │ L │ « │ » │  Ent │
// ├───────┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴──────┤
// │  shift  │ Z │ X │ C │ V │ B │ N │ M │ “ │ ” │ … │  shift │
// ├──────┬──┴──┬┴───┴─┬─┴───┴───┴───┴───┴───┴─┬─┴───┴┬───────┤
// │ ctrl │ win │ Ralt │        M-space        │ Ralt │  ctrl │
// └──────┴─────┴──────┴───────────────────────┴──────┴───────┘
// ```
// ## AltGr+Shift (Right-Alt+Shift):
// ```
// ┌───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬──────┐
// │ ` │ ´ │ @ │ # │ $ │ % │ ^ │ & │ × │ ÷ │ < │ > │ + │ bksp │
// ├───┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬────┤
// │ tab │   │   │   │   │   │   │   │   │   │   │   │   │ \  │
// ├─────┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴────┤
// │  Esc  │   │   │   │   │   │ ‐ │   │   │   │ ‹ │ › │  Ent │
// ├───────┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴──────┤
// │  shift  │   │   │   │ ⁃ │ ○ │ – │ — │ ‘ │ ’ │   │  shift │
// ├──────┬──┴──┬┴───┴─┬─┴───┴───┴───┴───┴───┴─┬─┴───┴┬───────┤
// │ ctrl │ win │ Ralt │   zero-width space    │ Ralt │  ctrl │
// └──────┴─────┴──────┴───────────────────────┴──────┴───────┘
// ```

default partial alphanumeric_keys modifier_keys
xkb_symbols "imperial" {

    name[Group1]= "Shavian (Imperial)";

//			Unmodified,	Shift,		AltGr,		Shift+AltGr
    key <TLDE> { [	U2E30,		U25E6,		0,		grave		] }; // ⸰ ◦ 0 `  ;
    key <AE01> { [	U00B7,		U2022,		1, 		acute		] }; // · • 1 ´  ;
    key <AE02> { [	U1046C,		U10476,		2,		at		] }; // 𐑬 𐑶 2 @  ;
    key <AE03> { [	U1047B,		U10478,		3,		numbersign	] }; // 𐑻 𐑸 3 #  ;
    key <AE04> { [	U1046B,		U1047F,		4,		dollar		] }; // 𐑫 𐑿 4 $  ;
    key <AE05> { [	U1047A,		U10479,		5,		percent		] }; // 𐑺 𐑹 5 %  ;
    key <AE06> { [	U1045C,		U1047C,		6,		asciicircum	] }; // 𐑜 𐑼 6 ^  ;
    key <AE07> { [	U10456,		U1047D,		7,		ampersand	] }; // 𐑖 𐑽 7 &  ;
    key <AE08> { [	U10457,		asterisk,	8,		U00D7		] }; // 𐑗 * 8 ×  ;
    key <AE09> { [	U10459,		minus, 		9,		U00F7		] }; // 𐑙 - 9 ÷  ;
    key <AE10> { [	U10458,		parenleft,	bracketleft,	less		] }; // 𐑘 ( [ <  ;
    key <AE11> { [	U10461,		parenright,	bracketright,	greater		] }; // 𐑡 ) ] >  ;
    key <AE12> { [	U10454,		equal,		underscore,	plus		] }; // 𐑔 = _ +  ;

    key <AD01> { [	U1046D,		q,		Q,		VoidSymbol	] }; // 𐑭 q Q    ;
    key <AD02> { [	U10477,		w,		W,		VoidSymbol	] }; // 𐑷 w W    ;
    key <AD03> { [	U10475,		e,		E,		VoidSymbol	] }; // 𐑵 e E    ;
    key <AD04> { [	U10471,		r,		R,		VoidSymbol	] }; // 𐑱 r R    ;
    key <AD05> { [	U10473,		t,		T,		VoidSymbol	] }; // 𐑳 t T    ;
    key <AD06> { [	U10453,		y,		Y,		VoidSymbol	] }; // 𐑓 y Y    ;
    key <AD07> { [	U1045E,		u,		U,		VoidSymbol	] }; // 𐑞 u U    ;
    key <AD08> { [	U10464,		i,		I,		VoidSymbol	] }; // 𐑤 i I    ;
    key <AD09> { [	U10465,		o,		O,		VoidSymbol	] }; // 𐑥 o O    ;
    key <AD10> { [	U10452,		p,		P,		VoidSymbol	] }; // 𐑒 p P    ;
    key <AD11> { [	U10462,		exclam,		braceleft,	VoidSymbol	] }; // 𐑢 ! {    ;
    key <AD12> { [	U10463,		ampersand, 	braceright,	VoidSymbol	] }; // 𐑣 & }    ;
    key <BKSL> { [	U10460,		asciitilde,	bar,		backslash	] }; // 𐑠 ~ | \  ;

    key <AC01> { [	U1046A,		a,		A,		VoidSymbol	] }; // 𐑪 a A    ;
    key <AC02> { [	U10468,		s,		S,		VoidSymbol	] }; // 𐑨 s S    ;
    key <AC03> { [	U10466,		d,		D,		VoidSymbol	] }; // 𐑦 d D    ;
    key <AC04> { [	U10469,		f,		F,		VoidSymbol	] }; // 𐑩 f F    ;
    key <AC05> { [	U10467,		g,		G,		VoidSymbol	] }; // 𐑧 g G    ;
    key <AC06> { [	U10450,		h,		H,		U2010		] }; // 𐑐 h H ‐  ; ‐ hyphen
    key <AC07> { [	U1046F,		j,		J,		VoidSymbol	] }; // 𐑯 j J    ; 
    key <AC08> { [	U10451,		k,		K,		VoidSymbol	] }; // 𐑑 k K    ; 
    key <AC09> { [	U1046E,		l,		L,		VoidSymbol	] }; // 𐑮 l L    ; 
    key <AC10> { [	U10455,		apostrophe,	U00AB,		U2039		] }; // 𐑕 ' « ‹  ; « U00ab (guillemotleft)
    key <AC11> { [	U1045B,		quotedbl,	U00BB,		U203A		] }; // 𐑛 " » ›  ; » U00bb (guillemotright)

    key <AB01> { [	U1047E,		z,		Z,		VoidSymbol	] }; // 𐑾 z Z   ;  
    key <AB02> { [	U10472,		x,		X,		VoidSymbol	] }; // 𐑲 x X   ; 
    key <AB03> { [	U10474,		c,		C,		VoidSymbol	] }; // 𐑴 c C   ;  
    key <AB04> { [	U10470,		v,		V,		U2043		] }; // 𐑰 v V ⁃ ; ⁃ (U2043 hyphen-bullet)
    key <AB05> { [	U1045A,		b,		B,		U25CB		] }; // 𐑚 b B ○ ; ○ (U25cb white circle)
    key <AB06> { [	U1045D,		n,		N,		U2013		] }; // 𐑝 n N – ; – (N-dash) 
    key <AB07> { [	U1045F,		m,		M,		U2014		] }; // 𐑟 m M — ; — (M-dash)
    key <AB08> { [	comma,		semicolon,	U201C,		U2018		] }; // , ; “ ‘ ;
    key <AB09> { [	period,		colon,		U201D,		U2019		] }; // . : ” ’ ;
    key <AB10> { [	slash,		question,	U2026,		VoidSymbol	] }; // / ? …   ; … (ellipsis)

    key <SPCE> { [ 	space,		space,		U2003,		U200B		] }; // U2003 M-space, U200B zero-width space

    replace key <CAPS> {
        type = "ALPHABETIC",
        symbols = [ Escape, Escape ],
        actions [Group1] = [ SetMods(modifiers=none), SetMods(modifiers=Lock,clearLocks) ]
    };

    replace key <ESC> { [ Alt_L, Alt_L ] };

    include "shift(both_capslock_cancel)"

    // both LAlt and RAlt switch to level3
    include "level3(alt_switch)"

    // compose key
    include "compose(paus)"

};

